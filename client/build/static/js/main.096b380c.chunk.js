(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{55:function(e,t,s){},91:function(e,t,s){"use strict";s.r(t);var c=s(1),n=s.n(c),a=s(49),r=s.n(a),i=(s(55),s(31)),o=s(12),j=s(28),l=s(2),u=s(17),b=s.n(u),d=s(0),h=function(e){var t=e.el;return Object(d.jsxs)("div",{className:"message",children:[Object(d.jsxs)("p",{className:"meta",children:[t.username,Object(d.jsx)("span",{children:t.time})]}),Object(d.jsx)("p",{className:"text",children:t.text})]})},O=function(e){var t=e.users,s=e.updateUsers,n=e.messages,a=e.updateMessages,r=Object(c.useState)(""),i=Object(o.a)(r,2),j=i[0],l=i[1],u=Object(c.useState)(""),O=Object(o.a)(u,2),m=O[0],x=O[1],f=new URLSearchParams(window.location.search).get("username"),p=new URLSearchParams(window.location.search).get("room"),v=Object(c.useRef)();Object(c.useEffect)((function(){v.current=b.a.connect("/"),v.current.emit("joinRoom",{username:f,room:p}),v.current.on("message",(function(e){a(e)})),v.current.on("roomUsers",(function(e){var t=e.room,c=e.users;s(c),x(t)}))}),[]);return Object(d.jsx)(d.Fragment,{children:Object(d.jsxs)("div",{class:"chat-container",children:[Object(d.jsxs)("header",{class:"chat-header",children:[Object(d.jsxs)("h1",{children:[Object(d.jsx)("i",{class:"fas fa-smile"})," SportChat"]}),Object(d.jsx)("a",{id:"leave-btn",class:"btn",onClick:function(){window.location="/"},children:"Leave Room"})]}),Object(d.jsxs)("main",{class:"chat-main",children:[Object(d.jsxs)("div",{class:"chat-sidebar",children:[Object(d.jsxs)("h3",{children:[Object(d.jsx)("i",{class:"fas fa-comments"})," Room Name:"]}),Object(d.jsx)("h2",{id:"room-name",children:m}),Object(d.jsxs)("h3",{children:[Object(d.jsx)("i",{class:"fas fa-users"})," Users"]}),Object(d.jsx)("ul",{id:"users",children:t&&t.map((function(e){return Object(d.jsxs)("li",{children:[e.username,Object(d.jsxs)("span",{children:[" (",e.id,")"]})]},e.id)}))})]}),Object(d.jsx)("div",{class:"chat-messages",children:n&&n.map((function(e,t){return Object(d.jsx)(h,{el:e},t)}))})]}),Object(d.jsx)("div",{class:"chat-form-container",children:Object(d.jsxs)("form",{id:"chat-form",onSubmit:function(e){e.preventDefault(),v.current.emit("chatMessage",j),l("")},children:[Object(d.jsx)("input",{onChange:function(e){return l(e.target.value.trim())},value:j,id:"msg",type:"text",placeholder:"Enter Message",required:!0}),Object(d.jsxs)("button",{class:"btn",children:[Object(d.jsx)("i",{class:"fas fa-paper-plane"})," Send"]})]})})]})})},m=function(e){var t=e.users,s=(e.updateUsers,Object(c.useState)("")),n=Object(o.a)(s,2),a=n[0],r=n[1],i=Object(c.useState)("Funs of Zenit"),j=Object(o.a)(i,2),l=j[0],u=j[1];console.log(t);Object(c.useRef)();return Object(d.jsxs)("div",{class:"join-container",children:[Object(d.jsx)("header",{class:"join-header",children:Object(d.jsxs)("h1",{children:[Object(d.jsx)("i",{class:"fas fa-smile"}),"SportChat"]})}),Object(d.jsx)("main",{class:"join-main",children:Object(d.jsxs)("form",{onSubmit:function(e){e.preventDefault(),window.location="/chat?username=".concat(a,"&room=").concat(l)},children:[Object(d.jsxs)("div",{class:"form-control",children:[Object(d.jsx)("label",{for:"username",children:"Username"}),Object(d.jsx)("input",{onChange:function(e){return r(e.target.value)},value:a,type:"text",name:"username",id:"username",placeholder:"Enter username...",required:!0})]}),Object(d.jsxs)("div",{class:"form-control",children:[Object(d.jsx)("label",{for:"room",children:"Room"}),Object(d.jsxs)("select",{name:"room",id:"room",onChange:function(e){return u(e.target.value)},value:l,children:[Object(d.jsx)("option",{value:"Funs of Zenit",children:"Funs of Zenit"}),Object(d.jsx)("option",{value:"Funs of Spartak",children:"Funs of Spartak"}),Object(d.jsx)("option",{value:"Funs of CSKA",children:"Funs of CSKA"}),Object(d.jsx)("option",{value:"Funs of Sochi",children:"Funs of Sochi"})]})]}),Object(d.jsx)("button",{type:"submit",class:"btn",children:"Join Chat"})]})})]})},x=(b.a.connect("/"),function(){var e=Object(c.useState)([]),t=Object(o.a)(e,2),s=t[0],n=t[1],a=Object(c.useState)([]),r=Object(o.a)(a,2),u=r[0],b=r[1],h=function(e){n((function(t){return Object(i.a)(e)}))};return Object(d.jsx)(j.a,{children:Object(d.jsx)("div",{className:"chat-container",children:Object(d.jsxs)(l.c,{children:[Object(d.jsx)(l.a,{exact:!0,path:"/",children:Object(d.jsx)(m,{users:s,updateUsers:h})}),Object(d.jsx)(l.a,{path:"/chat",children:Object(d.jsx)(O,{users:s,updateUsers:h,messages:u,updateMessages:function(e){b((function(t){return[].concat(Object(i.a)(t),[e])}))}})})]})})})}),f=function(e){e&&e instanceof Function&&s.e(3).then(s.bind(null,92)).then((function(t){var s=t.getCLS,c=t.getFID,n=t.getFCP,a=t.getLCP,r=t.getTTFB;s(e),c(e),n(e),a(e),r(e)}))};r.a.render(Object(d.jsx)(n.a.StrictMode,{children:Object(d.jsx)(x,{})}),document.getElementById("root")),f()}},[[91,1,2]]]);
//# sourceMappingURL=main.096b380c.chunk.js.map